<html>
    <head>
        <title>Componentes Web. Ejercicio 1</title>
        <meta charset="UTF-8">
        <style>
            wc-blink{
                text-align: center;
                font-size: 1.25rem;
            }
            div{
                display: flex;
                justify-content:center;
            }
            button{
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <wc-blink id="componente" changeInterval=4></wc-blink>

        <script>
            class WcBlink extends HTMLElement{
                baseColor="inherit";
                alternativeColor="transparent";
                changeInterval=1;

                constructor (){
                    super();
                    this.innerHTML="<h2>Texto de Componente Web</h2><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin pellentesque pharetra ex, at aliquet est. Quisque hendrerit molestie dictum. Sed ac quam in felis consequat facilisis. Sed porttitor eget enim at tincidunt. Vivamus accumsan, mi nec rhoncus molestie, magna est euismod massa, vitae viverra justo mauris eget magna. Maecenas consequat, dui vel semper viverra, mauris lacus dapibus mauris, iaculis ullamcorper arcu lectus in dolor. Cras sit amet semper neque. Morbi sit amet neque eget nunc ultrices sollicitudin. Nunc massa libero, elementum a ex ac, molestie mollis tortor. Nam et mattis urna. Integer aliquam maximus mi, vitae venenatis metus facilisis eu. Duis nec est id odio bibendum convallis et vitae ligula. </p>";
                    var obj=this;

                    var int1=setInterval(function(){
                        if(obj.getAttribute("style")=="color:"+obj.baseColor){
                            obj.setAttribute("style","color:"+obj.alternativeColor);
                        }else{
                            obj.setAttribute("style","color:"+obj.baseColor);
                        }
                    },this.changeInterval*1000);
                }

                set setBaseColor(color){
                    this.baseColor=color;
                }

                set setAlternativeColor(color){
                    this.alternativeColor=color;
                }

                get getBaseColor(){
                    return this.baseColor;
                }

                get getAlternativeColor(){
                    return this.alternativeColor;
                }

                set setChangeInterval(tiempo){
                    this.changeInterval=tiempo;
                }

                get getChangeInterval(){
                    return this.changeInterval;
                }

                connectedCallback(){
                    window.alert("Se ha iniciado el componente web");
                }
            }


            customElements.define("wc-blink",WcBlink);
            
            
            barra=document.createElement("div");
            document.body.append(barra);

            t1=document.createElement("input");
            t1.type="text";
            b1=document.createElement("button");
            b1.innerHTML="Cambiar color base";
            b1.onclick=function(){
                if(t1.value!=null){
                    document.querySelector("wc-blink").setBaseColor=t1.value;
                }
            }
            
            barra.append(t1);
            barra.append(b1);

            t2=document.createElement("input");
            t2.type="text";
            b2=document.createElement("button");
            b2.innerHTML="Cambiar color alternativo";
            b2.onclick=function(){
                if(t2.value!=null){
                    document.querySelector("wc-blink").setAlternativeColor=t2.value;
                }
            }
            barra.append(t2);
            barra.append(b2);

            t3=document.createElement("input");
            t3.type="number";
            b3=document.createElement("button");
            b3.innerHTML="Cambiar intervalo";
            b3.onclick=function(){
                if(t2.value!=null){
                    document.querySelector("wc-blink").setChangeInterval=t3.value;
                }
            }
            
            barra.append(t3);
            barra.append(b3);
            
        </script>
        
    </body>
</html>